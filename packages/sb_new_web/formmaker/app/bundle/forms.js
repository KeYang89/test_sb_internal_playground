!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t){"use strict";e.exports={el:"#formmaker-forms",data:function(){return _.merge({forms:!1,pages:0,count:"",types:[],selected:[]},window.$data)},created:function(){this.Forms=this.$resource("api/formmaker/form{/id}"),this.load()},methods:{load:function(){var e=this;return this.Forms.query().then(function(t){e.$set("forms",t.data)})},toggleStatus:function(e){var t=this;e.status=e.status?0:1,this.Forms.save({id:e.id},{formitem:e}).then(function(e){t.load(),t.$notify("Form saved.")},function(e){t.load(),t.$notify(e.data.message||e.data,"danger")})},getSelected:function(){var e=this;return this.forms.filter(function(t){return e.isSelected(t)})},isSelected:function(e,t){var r=this;return _.isArray(e)?e.forEach(function(e){return r.isSelected(e,t)}):-1!==this.selected.indexOf(e.id)},getFieldType:function(e){return _.find(this.types,{id:e.type})},removeForms:function(){var e=this;this.Forms["delete"]({id:"bulk"},{ids:this.selected}).then(function(){e.load(),e.$notify("Forms(s) deleted.")})}},components:{formitem:{props:["formitem"],template:"#formitem",computed:{type:function(){return this.getFieldType(this.field)}}}},watch:{forms:function(){var e=this,t=this;UIkit.nestable(this.$els.nestable,{maxDepth:1,group:"formmaker.forms"}).off("change.uk.nestable").on("change.uk.nestable",function(r,n,o,s){s&&"removed"!==s&&t.Forms.save({id:"updateOrder"},{forms:n.list()}).then(function(){t.load().success(function(){o.parent()[0]===n.element[0]&&setTimeout(function(){o.remove()},50)})},function(){return e.$notify("Reorder failed.","danger")})})}}},Vue.ready(e.exports)}]);